(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3678)}])},3678:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var i=t(4051),o=t.n(i),r=t(5893),s=t(4940),c=t(9331),a=t(9008),u=(t(7294),t(214)),l=t.n(u),d=t(5678),f=t(2659);t(993);function h(e,n,t,i,o,r,s){try{var c=e[r](s),a=c.value}catch(u){return void t(u)}c.done?n(a):Promise.resolve(a).then(i,o)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(i,o){var r=e.apply(n,t);function s(e){h(r,i,o,s,c,"next",e)}function c(e){h(r,i,o,s,c,"throw",e)}s(void 0)}))}}var m=function(e){d.Am.success(e,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},g=function(e){d.Am.error(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};function _(){function e(){return(e=p(o().mark((function e(){var n,t,i,r,a,u,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Make me anonymous","undefined"!==typeof window.ethereum&&console.log("MetaMask is installed!"),e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=new c.Q(window.ethereum),i=t.getSigner(),e.next=8,i.signMessage(n);case 8:return r=e.sent,e.next=11,i.getAddress();case 11:return a=e.sent,console.log({signer:i,signature:r,address:a}),u=new s.t(s._.MESSAGE,r),l=u.genIdentityCommitment(),console.log(l),e.next=18,fetch("http://localhost:8000/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({identityCommitment:l.toString()})});case 18:return d=e.sent,e.next=21,d.json();case 21:e.sent.success?m("User successfully Registerd"):g("User Registration failed");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:l().container,style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Greetings"}),(0,r.jsx)("meta",{name:"description",content:"A simple Next.js/Hardhat privacy application with Semaphore."}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(d.Ix,{}),(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"ZK Oauth"})}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[" Create your ",(0,r.jsx)("b",{children:"anonymous"})," identity on ",(0,r.jsx)("b",{children:"blockchain"}),". "]})}),(0,r.jsx)("div",{children:(0,r.jsx)(f.Z,{variant:"outlined",size:"large",className:"register",onClick:function(){return e.apply(this,arguments)},children:" Register "})})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",logs:"Home_logs__xVKJb",button:"Home_button__Zs7A2",title:"Home_title__T09hD",description:"Home_description__41Owk"}},9008:function(e,n,t){e.exports=t(5443)},6601:function(){},9214:function(){},2263:function(){},6184:function(){},1819:function(){},2361:function(){},4616:function(){},6567:function(){},3557:function(){}},function(e){e.O(0,[322,639,808,289,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);